var TLN={eventList:{},update_line_numbers:function(e,n){var t=e.value.split("\n").length-n.children.length;if(0<t){for(var r=document.createDocumentFragment();0<t;){var l=document.createElement("span");l.className="tln-line",r.appendChild(l),t--}n.appendChild(r)}for(;t<0;)n.removeChild(n.firstChild),t++},append_line_numbers:function(e){var n=document.getElementById(e);if(null==n)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1!=n.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' is already numbered");n.classList.add("tln-active"),n.style={};var t,r,l=document.createElement("div");n.parentNode.insertBefore(l,n),l.className="tln-wrapper",TLN.update_line_numbers(n,l),TLN.eventList[e]=[];for(var i=["propertychange","input","keydown","keyup"],o=function(n,t){return function(e){(10!=+n.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&"NumpadEnter"!=e.code||(n.scrollLeft=0),TLN.update_line_numbers(n,t)}}(n,l),a=i.length-1;0<=a;a--)n.addEventListener(i[a],o),TLN.eventList[e].push({evt:i[a],hdlr:o});for(t=n,r=l,l=function(){r.scrollTop=t.scrollTop},o=(i=["change","mousewheel","scroll"]).length-1;0<=o;o--)n.addEventListener(i[o],l),TLN.eventList[e].push({evt:i[o],hdlr:l})},remove_line_numbers:function(e){var n=document.getElementById(e);if(null==n)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1==n.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' isn't numbered");if(n.classList.remove("tln-active"),n.previousSibling.remove(),TLN.eventList[e]){for(var t=TLN.eventList[e].length-1;0<=t;t--){var r=TLN.eventList[e][t];n.removeEventListener(r.evt,r.hdlr)}delete TLN.eventList[e]}}};