"use strict";var TLN={eventList:{},update_line_numbers:function(e,t){var n=e.value.split("\n").length-t.children.length;if(0<n){for(var r=document.createDocumentFragment();0<n;){var l=document.createElement("span");l.className="tln-line",r.appendChild(l),n--}t.appendChild(r)}for(;n<0;)t.removeChild(t.firstChild),n++},append_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1!=t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' is already numbered");t.classList.add("tln-active"),t.style={};var n,r,l=document.createElement("div");t.parentNode.insertBefore(l,t),l.className="tln-wrapper",TLN.update_line_numbers(t,l),TLN.eventList[e]=[];for(var i=["propertychange","input","keydown","keyup"],o=function(t,n){return function(e){(10!=+t.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&"NumpadEnter"!=e.code||(t.scrollLeft=0),TLN.update_line_numbers(t,n)}}(t,l),a=i.length-1;0<=a;a--)t.addEventListener(i[a],o),TLN.eventList[e].push({evt:i[a],hdlr:o});for(n=t,r=l,l=function(){r.scrollTop=n.scrollTop},o=(i=["change","mousewheel","scroll"]).length-1;0<=o;o--)t.addEventListener(i[o],l),TLN.eventList[e].push({evt:i[o],hdlr:l})},remove_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1==t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' isn't numbered");if(t.classList.remove("tln-active"),t.previousSibling.remove(),TLN.eventList[e]){for(var n=TLN.eventList[e].length-1;0<=n;n--){var r=TLN.eventList[e][n];t.removeEventListener(r.evt,r.hdlr)}delete TLN.eventList[e]}}};