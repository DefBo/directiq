"use strict";var TLN={eventList:{},update_line_numbers:function(e,t){var n=e.value.split("\n").length-t.children.length;if(0<n){for(var r=document.createDocumentFragment();0<n;){var l=document.createElement("span");l.className="tln-line",r.appendChild(l),n--}t.appendChild(r)}for(;n<0;)t.removeChild(t.firstChild),n++},append_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1!=t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' is already numbered");t.classList.add("tln-active"),t.style={};var n=document.createElement("div");t.parentNode.insertBefore(n,t),n.className="tln-wrapper",TLN.update_line_numbers(t,n),TLN.eventList[e]=[];for(var r,l,i,o,a=["propertychange","input","keydown","keyup"],s=(r=t,l=n,function(e){(10!=+r.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&"NumpadEnter"!=e.code||(r.scrollLeft=0),TLN.update_line_numbers(r,l)}),d=a.length-1;0<=d;d--)t.addEventListener(a[d],s),TLN.eventList[e].push({evt:a[d],hdlr:s});for(i=t,o=n,n=function(){o.scrollTop=i.scrollTop},s=(a=["change","mousewheel","scroll"]).length-1;0<=s;s--)t.addEventListener(a[s],n),TLN.eventList[e].push({evt:a[s],hdlr:n})},remove_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1==t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' isn't numbered");if(t.classList.remove("tln-active"),t.previousSibling.remove(),TLN.eventList[e]){for(var n=TLN.eventList[e].length-1;0<=n;n--){var r=TLN.eventList[e][n];t.removeEventListener(r.evt,r.hdlr)}delete TLN.eventList[e]}}};